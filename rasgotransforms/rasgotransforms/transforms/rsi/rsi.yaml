name: rsi
tags:
  - table
  - aggregate
  - date_time
  - financial_industry
description: |
  Calculates the relative strength index on a given column, on a row-by-row basis. Developed by J. Welles Wilder, the Relative Strength Index (RSI) is a momentum oscillator that measures the speed and change of price movements. RSI oscillates between zero and 100. According to Wilder, RSI is considered overbought when above 70 and oversold when below 30. Signals can also be generated by looking for divergences, failure swings and centerline crossovers. RSI can also be used to identify the general trend.

  Pass in a partition_col, an order_col, and a lookback window size. 

  NOTE: Your data should be a properly formatted timeseries dataset before applying this transformation. In other words, each period should only appear once, and periods considered zero should be imputed with 0 already.

  Example use case: On daily stock data, calculate RSI by TICKER, with a 14-period lookback window. 
arguments:
  partition_col:
    type: column
    description: |
      Grouping column to calculate RSI within.
  order_col:
    type: column
    description: Column to order rows by when calculating the agg window. RSI automatically sorts ascending.
  value_col:
    type: column
    description: Column to calulate RSI against.
  window:
    type: int
    description: |
      Number of periods to use as a lookback period, to calculate RSI.
example_code: |
  ds = rasgo.get.dataset(fqtn="RASGOCOMMUNITY.PUBLIC.ZEPL_DAILY_STOCK_FEATURES")

  ds2 = ds.rsi(partition_col = 'TICKER', 
                order_col = 'DATE', 
                value_col = 'CLOSE', 
                window = 14)
