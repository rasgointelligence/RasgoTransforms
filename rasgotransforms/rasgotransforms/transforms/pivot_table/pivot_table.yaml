name: pivot_table
tags:
  - table
  - reshape
  - math
  - aggregate
description: |
  <h1>Pivot table, powered by SQL.</h1>

  <h2>Required Inputs</h2>
  * Values: the column with values you want to aggregate
  * Aggregation: the method of aggregation for your Values

  <h2>Optional Inputs</h2>
  * Rows: column(s) to group by down
  * Columns: column(s) to pivot across
  * Filters: filters to apply

arguments:
  values: #pivot_column
    type: column
    description: column to aggregate
  aggregation:
    type: agg
    description: method of aggregation to use on the values column (i.e. sum, avg, min, max, etc.)
  rows: #dimensions
    type: column_list
    description: Columns to group by (column values will become rows)
    is_optional: true
  columns: #value_column
    type: column
    description: column with row values that will become columns
    is_optional: true
  filters:
    type: filter_list
    description: Filters to apply to the table
    is_optional: true
example_code: |
  ds2 = ds.pivot_table(
    rows=['DATE'],
    values='CLOSE',
    columns='SYMBOL',
    agg_method='AVG'
  )
  ds2.preview()