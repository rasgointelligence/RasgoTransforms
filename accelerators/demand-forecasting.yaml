name: demand-forecasting
description: This accelerator generates demand forecasting features for future product demand, based on historical demand
creator: patrick@rasgoml.com
arguments:
  sales_table:
    type: table
    description: sales transaction dataset. needs a transaction ID, product ID, sales amount
  interval:
    type: date_part
    description: interval of the forecast; applies to how the historical features are aggregated and the grain of the prediction
  windows:
    type: value_list
    description: what frequencies of the interval do you want to use to generate new features?
  impute_approach:
    type: value
    description: how do you want to handle missing values generated by certain transforms?

transforms:
  ds_1:
    base_dataset: sales_table
    rasgo_transform: datetrunc
    arguments:
      dates: {'DATE':interval}
    description: Truncate the transaction date to the interval specified so that it can be used as the date key
  ds_2:
    base_dataset: ds_1
    rasgo_transform: aggregate
    arguments:
      agg_dict: {'COLUMN':['SUM', 'MIN', 'MAX']}
    descripton: 
  ds_3:
    base_dataset: ds_2
    rasgo_transform: lag
    arguments:
      columns: ['SALESAMOUNT', 'COSTAMOUNT']
      amounts:
      partition:
      order_by:
    description: lag to create features that capture past demand
  ds_4:
    base_dataset: [ds_3, ds_2]
    rasgo_transform: join
    arguments:


#more to add:
#moving avg, lead to get target, target encode, replace / throw out missing, train / test split